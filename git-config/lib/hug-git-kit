# shellcheck shell=bash
# This file is a library to be sourced by shell scripts
#
# HUG-GIT-KIT: Git-specific operations library (MAIN ENTRY POINT)
#
# This is the main entry point for all git-specific operations.
# It sources all the specialized git library modules to provide
# backward compatibility with existing scripts.
#
# The library is now organized into focused modules:
# - hug-git-repo: Repository and commit validation
# - hug-git-state: Working tree state checking
# - hug-git-files: File listing functions
# - hug-git-discard: Discard operations
# - hug-git-branch: Branch information and selection
# - hug-git-commit: Commit range analysis
# - hug-git-upstream: Upstream operation handlers
# - hug-git-backup: Branch backup management
# - hug-git-rebase: Rebase conflict resolution
#
# All functions are designed to work with the hug-common library
# and follow consistent patterns for error handling and user feedback.

# Prevent double-loading
[[ -n "${_HUG_GIT_KIT_LOADED:-}" ]] && return 0
readonly _HUG_GIT_KIT_LOADED=1

# Source all git-specific library modules
for module in hug-git-repo hug-git-state hug-git-files hug-git-discard hug-git-branch hug-git-commit hug-git-upstream hug-git-backup hug-git-rebase; do
    # shellcheck source=/dev/null
    . "$HUG_LIB_DIR/$module" || { echo "Failed to load $module" >&2; return 1; }
done
