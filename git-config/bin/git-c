#!/usr/bin/env bash
set -euo pipefail  # Exit on error, undefined vars, pipe failures
# Part of the Hug tool suite

# Commit staged files.
# Suggest alternate command if no staged files found.
test "$1" = '-h' -o "$1" = '--help' && {
  printf 'c: Commit staged files.\n'
  printf 'See also:\n  hug ca\n'
  exit 1
}

test -z "$(git diff --cached --name-only)" && {
  echo "No staged changes. Use 'hug ca' to commit all tracked changes"
  exit 1
}
git commit "$@"
