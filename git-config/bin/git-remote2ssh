#!/usr/bin/env bash
set -euo pipefail

remote=${1:-origin}
url=$(git remote get-url "$remote")
if [[ "$url" =~ ^https://github\.com/ ]]; then
    ssh_url="git@github.com:${url#https://github.com/}"
    git remote set-url "$remote" "$ssh_url"
    echo "Updated $remote remote to use SSH:"
    git remote -v
    exit
fi

echo "Remote $remote is not using HTTPS GitHub URL: $url"
