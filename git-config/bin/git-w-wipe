#!/usr/bin/env bash
set -euo pipefail

# Show help if requested
test "${1:-}" = '-h' -o "${1:-}" = '--help' && {
  cat << 'EOF'
hug w wipe: Wipe both staged and unstaged changes for specific files

USAGE:
  hug w wipe <files...> [options]

DESCRIPTION:
  Discards both staged and unstaged changes for specific tracked files.
  This is a convenience command that combines:
    hug w discard -u <files>  (unstaged changes)
    hug w discard -s <files>  (staged changes)
  
  Does not affect untracked or ignored files.

EXAMPLES:
  hug w wipe file.js           # Wipe all changes to file.js
  hug w wipe src/*.js          # Wipe changes to all JS files in src/
  hug w wipe .                 # Wipe all changes in current directory

OPTIONS:
  --dry-run    Preview what would be wiped without making changes
  -f, --force  Skip confirmation prompts

SEE ALSO:
  hug w wipe-all    # Wipe changes across entire repository
  hug w discard     # Discard unstaged OR staged changes
  hug w zap         # Complete cleanup (wipe + purge untracked)

SAFETY:
  Removes uncommitted work for specified files. Use --dry-run to preview.
EOF
  exit 0
}

# Convenience alias: wipe == discard staged + unstaged for specific paths
exec hug w discard -u -s "$@"
